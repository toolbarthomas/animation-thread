<!doctype html>
<html>

<head>
  <title>requestAnimationThread</title>

  <style>
    .block {
      width: 100px;
      height: 100px;
      border: solid 6px white;
      background-color: red;
    }
  </style>

  <script type="module">
    import { requestAnimationThread } from "./index.js";

    function create(fps)
    {

      const element = document.createElement('div');
      element.classList.add('block');
      document.body.append(element);
      let value = 0;

      const t = requestAnimationThread(() =>
      {
        element.style.marginLeft = `${value}px`
        value += 10;
        if (value > 300) {
          value = 0;
        }
      }, fps)
    }

    create(1);
    create(2);
    create(10);
    create(30);
    create(60);
    // Should be same as 60
    create(90);

  </script>
</head>

<body>

</body>

</html>